<channel version="4.5.2">
  <id>d7c717f8-bb6e-4ff4-8628-d87c6aaeb23d</id>
  <nextMetaDataId>2</nextMetaDataId>
  <name>0010 ORM v2026-01-17</name>
  <description></description>
  <revision>1</revision>
  <sourceConnector version="4.5.2">
    <metaDataId>0</metaDataId>
    <name>sourceConnector</name>
    <properties class="com.mirth.connect.connectors.vm.VmReceiverProperties" version="4.5.2">
      <pluginProperties/>
      <sourceConnectorProperties version="4.5.2">
        <responseVariable>None</responseVariable>
        <respondAfterProcessing>true</respondAfterProcessing>
        <processBatch>false</processBatch>
        <firstResponse>false</firstResponse>
        <processingThreads>1</processingThreads>
        <resourceIds class="linked-hash-map">
          <entry>
            <string>Default Resource</string>
            <string>[Default Resource]</string>
          </entry>
        </resourceIds>
        <queueBufferSize>1000</queueBufferSize>
      </sourceConnectorProperties>
    </properties>
    <transformer version="4.5.2">
      <elements>
        <com.mirth.connect.plugins.javascriptstep.JavaScriptStep version="4.5.2">
          <name>extrae segmento MSH</name>
          <sequenceNumber>0</sequenceNumber>
          <enabled>true</enabled>
          <script>var msh = {
	sendingApplication: msg[&apos;MSH&apos;][&apos;MSH.3&apos;][&apos;MSH.3.1&apos;].toString().trim(),
	sendingFacility: msg[&apos;MSH&apos;][&apos;MSH.4&apos;][&apos;MSH.4.1&apos;].toString().trim(),
	receivingApplication: msg[&apos;MSH&apos;][&apos;MSH.5&apos;][&apos;MSH.5.1&apos;].toString().trim(),
	receivingFacility: msg[&apos;MSH&apos;][&apos;MSH.6&apos;][&apos;MSH.6.1&apos;].toString().trim(),
	dateTimeOfMessage: msg[&apos;MSH&apos;][&apos;MSH.7&apos;][&apos;MSH.7.1&apos;].toString().trim()
};</script>
        </com.mirth.connect.plugins.javascriptstep.JavaScriptStep>
        <com.mirth.connect.plugins.javascriptstep.JavaScriptStep version="4.5.2">
          <name>extrae segmento PID</name>
          <sequenceNumber>1</sequenceNumber>
          <enabled>true</enabled>
          <script>var pid = {
	idNumber: msg[&apos;PID&apos;][&apos;PID.3&apos;][&apos;PID.3.1&apos;].toString().trim(),
	checkDigitScheme: msg[&apos;PID&apos;][&apos;PID.3&apos;][&apos;PID.3.4&apos;].toString().trim(),
	alternatePatientIdNumber: msg[&apos;PID&apos;][&apos;PID.4&apos;][&apos;PID.4.1&apos;].toString().trim(),
	alternatePatientIdType: msg[&apos;PID&apos;][&apos;PID.4&apos;][&apos;PID.4.4&apos;].toString().trim(),
	patientFamily: msg[&apos;PID&apos;][&apos;PID.5&apos;][&apos;PID.5.1&apos;].toString().trim(),
	patientGiven : msg[&apos;PID&apos;][&apos;PID.5&apos;][&apos;PID.5.2&apos;].toString().trim(),
	patientMothersName : msg[&apos;PID&apos;][&apos;PID.6&apos;][&apos;PID.6.1&apos;].toString().trim(),
	birthday : msg[&apos;PID&apos;][&apos;PID.7&apos;][&apos;PID.7.1&apos;].toString().trim(),
	sex : msg[&apos;PID&apos;][&apos;PID.8&apos;][&apos;PID.8.1&apos;].toString().trim(),
	addressStreet : msg[&apos;PID&apos;][&apos;PID.11&apos;][&apos;PID.11.1&apos;].toString().trim(),
	addressOtherDesignation : msg[&apos;PID&apos;][&apos;PID.11&apos;][&apos;PID.11.2&apos;].toString().trim(),
	addressCity : msg[&apos;PID&apos;][&apos;PID.11&apos;][&apos;PID.11.3&apos;].toString().trim(),
	addressState : msg[&apos;PID&apos;][&apos;PID.11&apos;][&apos;PID.11.4&apos;].toString().trim(),
	addressCountry : msg[&apos;PID&apos;][&apos;PID.11&apos;][&apos;PID.11.6&apos;].toString().trim(),
	addressCountryCode : msg[&apos;PID&apos;][&apos;PID.12&apos;][&apos;PID.12.1&apos;].toString().trim(),
	phoneNumberHome : msg[&apos;PID&apos;][&apos;PID.13&apos;][&apos;PID.13.1&apos;].toString().trim(),
	maritalStatus : msg[&apos;PID&apos;][&apos;PID.16&apos;][&apos;PID.16.1&apos;].toString().trim(),
	mail : msg[&apos;PID&apos;][&apos;PID.21&apos;][&apos;PID.21.1&apos;].toString().trim()
};</script>
        </com.mirth.connect.plugins.javascriptstep.JavaScriptStep>
        <com.mirth.connect.plugins.javascriptstep.JavaScriptStep version="4.5.2">
          <name>extrae segmento PV1</name>
          <sequenceNumber>2</sequenceNumber>
          <enabled>true</enabled>
          <script>var pv1 = {
	setId: msg[&apos;PV1&apos;][&apos;PV1.1&apos;].toString()
	};</script>
        </com.mirth.connect.plugins.javascriptstep.JavaScriptStep>
        <com.mirth.connect.plugins.javascriptstep.JavaScriptStep version="4.5.2">
          <name>extrae segmento ORC</name>
          <sequenceNumber>3</sequenceNumber>
          <enabled>true</enabled>
          <script>var orc = {};</script>
        </com.mirth.connect.plugins.javascriptstep.JavaScriptStep>
        <com.mirth.connect.plugins.javascriptstep.JavaScriptStep version="4.5.2">
          <name>extrae segmento OBR</name>
          <sequenceNumber>4</sequenceNumber>
          <enabled>true</enabled>
          <script>var obr = {
	setIdValue: msg[&apos;OBR&apos;][&apos;OBR.1&apos;][&apos;OBR.1.1&apos;].toString(),
	placeOrderField1: msg[&apos;OBR&apos;][&apos;OBR.2&apos;][&apos;OBR.2.1&apos;].toString(),
	universalServiceId_Identifier: msg[&apos;OBR&apos;][&apos;OBR.4&apos;][&apos;OBR.4.1&apos;].toString(),
	universalServiceId_Text: msg[&apos;OBR&apos;][&apos;OBR.4&apos;][&apos;OBR.4.2&apos;].toString(),
	priority: msg[&apos;OBR&apos;][&apos;OBR.5&apos;][&apos;OBR.5.1&apos;].toString()
	}</script>
        </com.mirth.connect.plugins.javascriptstep.JavaScriptStep>
        <com.mirth.connect.plugins.javascriptstep.JavaScriptStep version="4.5.2">
          <name>extrae segmento AIS</name>
          <sequenceNumber>5</sequenceNumber>
          <enabled>true</enabled>
          <script>var ais = {};</script>
        </com.mirth.connect.plugins.javascriptstep.JavaScriptStep>
        <com.mirth.connect.plugins.javascriptstep.JavaScriptStep version="4.5.2">
          <name>extrae segmento DG1</name>
          <sequenceNumber>6</sequenceNumber>
          <enabled>true</enabled>
          <script>var ddgg = [];

for each (dg in msg[&apos;DG1&apos;]) {
	//mapear
	dg = {
			diagnosis: msg[&apos;DG1&apos;][0][&apos;DG1.5&apos;][&apos;DG1.5.2&apos;].toString()
	}
	ddgg.push(dg);
}</script>
        </com.mirth.connect.plugins.javascriptstep.JavaScriptStep>
        <com.mirth.connect.plugins.javascriptstep.JavaScriptStep version="4.5.2">
          <name>ServiceRequest constructor</name>
          <sequenceNumber>7</sequenceNumber>
          <enabled>true</enabled>
          <script>var sourceObject = {
	status: &quot;hola&quot;
	};

var serviceRequest = new ServiceRequestResource(sourceObject)
  .setId(&quot;1&quot;)
  .setStatus(&quot;active&quot;)
  .setCategory(&quot;123&quot;,&quot;Consulta&quot;,&quot;http://category.cl&quot;)
  .setCode(&quot;456&quot;,&quot;Procedimiento&quot;,&quot;http://code.cl&quot;)
  .setSubject(&quot;Patient/123&quot;)
  .setEffectiveDateTime()
  .build();

logger.info(&quot;ServiceRequestJSON= &quot; + JSON.stringify(serviceRequest, null, 2));
channelMap.put(&quot;serviceRequest&quot;, serviceRequest);

//var sr3 = new ServiceRequestResource(obj2);

//sr3.setId(&quot;123&quot;);
//sr3.setStatus(&quot;kkkkk&quot;);

//logger.info(&quot;sr3=&quot; + JSON.stringify(sr3.build()));</script>
        </com.mirth.connect.plugins.javascriptstep.JavaScriptStep>
        <com.mirth.connect.plugins.javascriptstep.JavaScriptStep version="4.5.2">
          <name>Patient constructor</name>
          <sequenceNumber>8</sequenceNumber>
          <enabled>true</enabled>
          <script>var sourceObject = {
	active: true
	}

var patient = new PatientResource(sourceObject)
  .setId(&quot;123&quot;)
  .setActive(true)
  .addIdentifier(&quot;http://hospital.cl/mrn&quot;, &quot;MR&quot;, &quot;ABC-001&quot;)
  .addName(&quot;Pérez&quot;, [&quot;Juan&quot;], &quot;official&quot;)
  .setGender(&quot;male&quot;)
  .setBirthDate(&quot;1990-01-31&quot;)
  .addTelecom(&quot;phone&quot;, &quot;+56911112222&quot;, &quot;mobile&quot;, 1)
  .addAddress([&quot;Av. Siempre Viva 742&quot;], &quot;Santiago&quot;, &quot;RM&quot;, &quot;8320000&quot;, &quot;CL&quot;, &quot;home&quot;, &quot;both&quot;)
  .build();

logger.info(&quot;patientJSON=&quot; + JSON.stringify(patient, null, 2));
channelMap.put(&quot;patient&quot;, patient);</script>
        </com.mirth.connect.plugins.javascriptstep.JavaScriptStep>
        <com.mirth.connect.plugins.javascriptstep.JavaScriptStep version="4.5.2">
          <name>Condition constructor</name>
          <sequenceNumber>9</sequenceNumber>
          <enabled>true</enabled>
          <script>var sourceObject = {};

try {
	var condition = new ConditionResource(sourceObject)
	  .setId(&quot;cond-001&quot;)
	  .setClinicalStatus(&quot;active&quot;)
	  .setVerificationStatus(&quot;confirmed&quot;)
	  .setCategory(&quot;problem-list-item&quot;, &quot;Problem List&quot;)
	  .setCode(&quot;E11&quot;, &quot;Diabetes mellitus type 2&quot;, &quot;http://hl7.org/fhir/sid/icd-10&quot;)
	  .setSubject(&quot;Patient/123&quot;)
	  .setOnsetDate(&quot;2023-05-10&quot;)
	  .setRecorder(&quot;Practitioner/45&quot;)
	  .addNote(&quot;Paciente en control&quot;)
	  .build();
} 
catch (e) {
	logger.error(e);
}

logger.info(&quot;conditionJSON=&quot; + JSON.stringify(condition, null, 2));
channelMap.put(&quot;condition&quot;, condition);</script>
        </com.mirth.connect.plugins.javascriptstep.JavaScriptStep>
        <com.mirth.connect.plugins.javascriptstep.JavaScriptStep version="4.5.2">
          <name>Location constructor</name>
          <sequenceNumber>10</sequenceNumber>
          <enabled>true</enabled>
          <script>var sourceObject = {}

var location = new LocationResource(sourceObject)
  .setId(&quot;loc-1&quot;)
  .setStatus(&quot;active&quot;)
  .setName(&quot;Centro Médico ABC - Box 3&quot;)
  .setDescription(&quot;Box de medicina general&quot;)
  .setMode(&quot;instance&quot;)
  .setType(&quot;ro&quot;, &quot;Room&quot;, &quot;http://terminology.hl7.org/CodeSystem/location-physical-type&quot;) // o usa setPhysicalType
  .setPhysicalType(&quot;ro&quot;, &quot;Room&quot;, &quot;http://terminology.hl7.org/CodeSystem/location-physical-type&quot;)
  .setAddress([&quot;Av. Siempre Viva 742&quot;], &quot;Santiago&quot;, &quot;RM&quot;, &quot;8320000&quot;, &quot;CL&quot;)
  .setPosition(-33.4489, -70.6693, 560)
  .setManagingOrganization(&quot;Organization/1&quot;)
  .addTelecom(&quot;phone&quot;, &quot;+56 2 2345 6789&quot;, &quot;work&quot;, 1)
  .build();

logger.info(&quot;locationJSON=&quot; + JSON.stringify(location, null, 2));
channelMap.put(&quot;location&quot;, location);</script>
        </com.mirth.connect.plugins.javascriptstep.JavaScriptStep>
        <com.mirth.connect.plugins.javascriptstep.JavaScriptStep version="4.5.2">
          <name>Practitioner constructor</name>
          <sequenceNumber>11</sequenceNumber>
          <enabled>true</enabled>
          <script>var sourceObject = {};

var practitioner = new PractitionerResource(sourceObject)
  .setId(&quot;prac-1&quot;)
  .setActive(true)
  .addIdentifier(&quot;http://minsal.cl/rnpi&quot;, &quot;MD&quot;, &quot;123456&quot;)
  .addName(&quot;Pérez&quot;, [&quot;Ana&quot;, &quot;María&quot;], &quot;official&quot;, [&quot;Dra.&quot;])
  .setGender(&quot;female&quot;)
  .setBirthDate(&quot;1985-04-10&quot;)
  .addTelecom(&quot;phone&quot;, &quot;+56911112222&quot;, &quot;mobile&quot;, 1)
  .addAddress([&quot;Calle 123&quot;], &quot;Santiago&quot;, &quot;RM&quot;, &quot;8320000&quot;, &quot;CL&quot;, &quot;work&quot;, &quot;both&quot;)
  .addQualification(&quot;MD&quot;, &quot;Médico Cirujano&quot;, &quot;http://terminology.hl7.org/CodeSystem/v2-0360&quot;)
  .addCommunication(&quot;es&quot;, &quot;Spanish&quot;)
  .build();

logger.info(&quot;practitionerJson=&quot; + JSON.stringify(practitioner, null, 2));
channelMap.put(&quot;practitioner&quot;, practitioner);</script>
        </com.mirth.connect.plugins.javascriptstep.JavaScriptStep>
        <com.mirth.connect.plugins.javascriptstep.JavaScriptStep version="4.5.2">
          <name>AllergyIntolerance constructor</name>
          <sequenceNumber>12</sequenceNumber>
          <enabled>true</enabled>
          <script>var sourceObject = {};

var alg = new AllergyIntoleranceResource(sourceObject)
  .setId(&quot;alg-1&quot;)
  .setClinicalStatus(&quot;active&quot;)
  .setVerificationStatus(&quot;confirmed&quot;)
  .setType(&quot;allergy&quot;)
  .setCategory([&quot;medication&quot;])
  .setCriticality(&quot;high&quot;)
  .setCode(&quot;7982&quot;, &quot;Penicillin&quot;, &quot;http://snomed.info/sct&quot;)
  .setPatient(&quot;Patient/123&quot;)
  .setRecordedDate(&quot;2026-01-17T12:00:00-03:00&quot;)
  .addReaction(&quot;247472004&quot;, &quot;Hives&quot;, &quot;http://snomed.info/sct&quot;, &quot;moderate&quot;, &quot;Urticaria posterior a exposición&quot;)
  .addNote(&quot;Reportado por paciente&quot;)
  .build();

logger.info(&quot;allergyJson=&quot; + JSON.stringify(alg, null, 2));
channelMap.put(&quot;allergy&quot;, alg);</script>
        </com.mirth.connect.plugins.javascriptstep.JavaScriptStep>
        <com.mirth.connect.plugins.javascriptstep.JavaScriptStep version="4.5.2">
          <name>Bundle constructor</name>
          <sequenceNumber>13</sequenceNumber>
          <enabled>true</enabled>
          <script>var bundle = new BundleResource()
  //.setTimestamp(DateUtil.formatDate(new Date(), &quot;yyyy-MM-dd&apos;T&apos;HH:mm:ssXXX&quot;))
  .setTimestamp(&apos;2026-01-17&apos;)
  .addUpdate($(&apos;serviceRequest&apos;))
  .addUpdate($(&apos;patient&apos;)) // PUT Patient/123
  .addUpdate($(&apos;condition&apos;))    // PUT Condition/cond-001
  .addUpdate($(&apos;location&apos;))     // PUT Location/loc-1
  .addUpdate($(&apos;practitioner&apos;))
  .addUpdate($(&apos;allergy&apos;))
  .build();

logger.info(&quot;bundleJson=&quot; + JSON.stringify(bundle, null, 2));
channelMap.put(&quot;bundleJson&quot;, JSON.stringify(bundle));</script>
        </com.mirth.connect.plugins.javascriptstep.JavaScriptStep>
      </elements>
      <inboundTemplate encoding="base64">TVNIfF5+XCZ8SElTX0NCU1R8SElTX0NCU1RfSU5URVJGQUNFfENTSF9SSVN8Q1NIX1JJU19JTlRFUkZBQ0V8MjAxMzA3MDExODU1NTV8fE9STV5PMDF8fER8Mi4xfHxBTHxORXx8fApQSUR8fHwwMDExMDM1ODE1Xl5eQ0JTVH44OTg5NjI1LTheXl5SVVR8ODk4OTYyNS04Xl5eUlVUfE9WQU5ETyBGSUdVRVJPQV5KQUNRVUVMSU5FIEhBWURFRXx8MTk2MzEyMTd8Rnx8fExPUyBKQUNJTlRPUyA5NjJeQlVJTl5TQU5USVNHT14xM15eQ2hpbGV8Q2hpbGV8OTkzMzAzMjc4fHx8fHx8fHxqb2YubG9sZWtAZ21haWwuY29tfHx8fHxDTHx8ClBWMXx8T3xeXnx8fHw4NDUyODc1LTdeWlXDkUlHQSBSQU1JUkVaXkxPUkVOQSBERUwgQ0FSTUVOfHx8SUJBfHx8fHwwMDF8fHx8MDA0NTQ0NTYwMXwwMDQ1NDQ1NjAxfHx8fHx8fHx8fHx8fHx8fHx8fHx8fHwyMDI2MDExMwpPUkN8Tld8MDA0NTQ0NTYwMV5JQ1BUQlJPTnx8XlRFTEUgQlJPTkNPUFVMTU9OQVIgQURVTFRPfHx8Xl5eXjAwMXxMWlVOSUdBfHw4NDUyODc1LTdeWlXDkUlHQSBSQU1JUkVaXkxPUkVOQSBERUwgQ0FSTUVOXjg0NTI4NzUtN3x8fHx8MjAyNjAxMTMxMjE0NDJ8fElCQU1FRkFNXnx8fHwKT0JSfDA2NzE2MjgzOTV8SUNQUlBWQzF8fFI0MDMwMTRBUDFeVEMgREUgQUJET01FTiBZIFBFTFZJUyBDT04gQ09OVFJBU1RFIF58MjAyNi8wMS8xM3wKQUlTfHx8fHx8fHx8Xnx8CkRHMXx8ICB8MDAwMDAwMDAwMDAwMDB8fHF1aXJ1cmdpY29eIGFwZW5kaWNlY3RvbWlhLCBjZXNhcmVhfF58fHx8fHx8CkRHMXx8ICB8MDAwMDAwMDAwMDAwMDB8fG5vcXVpcnVyZ2leIFJHRT8sIGJydWNjaXNtb3xefHx8fHx8fApERzF8fCAgfDAwMDAwMDAwMDAwMDAwfHxxdWlydXJnaWNvXiBISVNURVJFQ1RPTcONQSBwb3IgTUlPTUFTVE9TSVMgZWwgIDIwMTN8Xnx8fHx8fHwKREcxfHwgIHwwMDAwMDAwMDAwMDAwMHx8cXVpcnVyZ2ljb14gQ0lSVUfDjUEgUkVGUkFDVElWQSBPRC4gKy8tIEVMIDIwMDYufF58fHx8fHx8CkRHMXx8ICB8MDAwMDAwMDAwMDAwMDB8fHJlZmxleGFuXnxefHx8fHx8fApERzF8fCAgfDAwMDAwMDAwMDAwMDAwfHxUYWJhcXVpc21vIG5vXnxefHx8fHx8fA==</inboundTemplate>
      <outboundTemplate encoding="base64"></outboundTemplate>
      <inboundDataType>HL7V2</inboundDataType>
      <outboundDataType>JSON</outboundDataType>
      <inboundProperties class="com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DataTypeProperties" version="4.5.2">
        <serializationProperties class="com.mirth.connect.plugins.datatypes.hl7v2.HL7v2SerializationProperties" version="4.5.2">
          <handleRepetitions>true</handleRepetitions>
          <handleSubcomponents>true</handleSubcomponents>
          <useStrictParser>false</useStrictParser>
          <useStrictValidation>false</useStrictValidation>
          <stripNamespaces>false</stripNamespaces>
          <segmentDelimiter>\r</segmentDelimiter>
          <convertLineBreaks>true</convertLineBreaks>
        </serializationProperties>
        <deserializationProperties class="com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DeserializationProperties" version="4.5.2">
          <useStrictParser>false</useStrictParser>
          <useStrictValidation>false</useStrictValidation>
          <segmentDelimiter>\r</segmentDelimiter>
        </deserializationProperties>
        <batchProperties class="com.mirth.connect.plugins.datatypes.hl7v2.HL7v2BatchProperties" version="4.5.2">
          <splitType>MSH_Segment</splitType>
          <batchScript></batchScript>
        </batchProperties>
        <responseGenerationProperties class="com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseGenerationProperties" version="4.5.2">
          <segmentDelimiter>\r</segmentDelimiter>
          <successfulACKCode>AA</successfulACKCode>
          <successfulACKMessage></successfulACKMessage>
          <errorACKCode>AE</errorACKCode>
          <errorACKMessage>An Error Occurred Processing Message.</errorACKMessage>
          <rejectedACKCode>AR</rejectedACKCode>
          <rejectedACKMessage>Message Rejected.</rejectedACKMessage>
          <msh15ACKAccept>false</msh15ACKAccept>
          <dateFormat>yyyyMMddHHmmss.SSS</dateFormat>
        </responseGenerationProperties>
        <responseValidationProperties class="com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseValidationProperties" version="4.5.2">
          <successfulACKCode>AA,CA</successfulACKCode>
          <errorACKCode>AE,CE</errorACKCode>
          <rejectedACKCode>AR,CR</rejectedACKCode>
          <validateMessageControlId>true</validateMessageControlId>
          <originalMessageControlId>Destination_Encoded</originalMessageControlId>
          <originalIdMapVariable></originalIdMapVariable>
        </responseValidationProperties>
      </inboundProperties>
      <outboundProperties class="com.mirth.connect.plugins.datatypes.json.JSONDataTypeProperties" version="4.5.2">
        <batchProperties class="com.mirth.connect.plugins.datatypes.json.JSONBatchProperties" version="4.5.2">
          <splitType>JavaScript</splitType>
          <batchScript></batchScript>
        </batchProperties>
      </outboundProperties>
    </transformer>
    <filter version="4.5.2">
      <elements/>
    </filter>
    <transportName>Channel Reader</transportName>
    <mode>SOURCE</mode>
    <enabled>true</enabled>
    <waitForPrevious>true</waitForPrevious>
  </sourceConnector>
  <destinationConnectors>
    <connector version="4.5.2">
      <metaDataId>1</metaDataId>
      <name>Destination 1</name>
      <properties class="com.mirth.connect.connectors.js.JavaScriptDispatcherProperties" version="4.5.2">
        <pluginProperties/>
        <destinationConnectorProperties version="4.5.2">
          <queueEnabled>false</queueEnabled>
          <sendFirst>false</sendFirst>
          <retryIntervalMillis>10000</retryIntervalMillis>
          <regenerateTemplate>false</regenerateTemplate>
          <retryCount>0</retryCount>
          <rotate>false</rotate>
          <includeFilterTransformer>false</includeFilterTransformer>
          <threadCount>1</threadCount>
          <threadAssignmentVariable></threadAssignmentVariable>
          <validateResponse>false</validateResponse>
          <resourceIds class="linked-hash-map">
            <entry>
              <string>Default Resource</string>
              <string>[Default Resource]</string>
            </entry>
          </resourceIds>
          <queueBufferSize>1000</queueBufferSize>
          <reattachAttachments>true</reattachAttachments>
        </destinationConnectorProperties>
        <script>//logger.info(connectorMessage.getEncodedData());</script>
      </properties>
      <transformer version="4.5.2">
        <elements/>
        <inboundDataType>JSON</inboundDataType>
        <outboundDataType>JSON</outboundDataType>
        <inboundProperties class="com.mirth.connect.plugins.datatypes.json.JSONDataTypeProperties" version="4.5.2">
          <batchProperties class="com.mirth.connect.plugins.datatypes.json.JSONBatchProperties" version="4.5.2">
            <splitType>JavaScript</splitType>
            <batchScript></batchScript>
          </batchProperties>
        </inboundProperties>
        <outboundProperties class="com.mirth.connect.plugins.datatypes.json.JSONDataTypeProperties" version="4.5.2">
          <batchProperties class="com.mirth.connect.plugins.datatypes.json.JSONBatchProperties" version="4.5.2">
            <splitType>JavaScript</splitType>
            <batchScript></batchScript>
          </batchProperties>
        </outboundProperties>
      </transformer>
      <responseTransformer version="4.5.2">
        <elements/>
        <inboundDataType>JSON</inboundDataType>
        <outboundDataType>JSON</outboundDataType>
        <inboundProperties class="com.mirth.connect.plugins.datatypes.json.JSONDataTypeProperties" version="4.5.2">
          <batchProperties class="com.mirth.connect.plugins.datatypes.json.JSONBatchProperties" version="4.5.2">
            <splitType>JavaScript</splitType>
            <batchScript></batchScript>
          </batchProperties>
        </inboundProperties>
        <outboundProperties class="com.mirth.connect.plugins.datatypes.json.JSONDataTypeProperties" version="4.5.2">
          <batchProperties class="com.mirth.connect.plugins.datatypes.json.JSONBatchProperties" version="4.5.2">
            <splitType>JavaScript</splitType>
            <batchScript></batchScript>
          </batchProperties>
        </outboundProperties>
      </responseTransformer>
      <filter version="4.5.2">
        <elements/>
      </filter>
      <transportName>JavaScript Writer</transportName>
      <mode>DESTINATION</mode>
      <enabled>true</enabled>
      <waitForPrevious>true</waitForPrevious>
    </connector>
  </destinationConnectors>
  <preprocessingScript>// Modify the message variable below to pre process data
return message;</preprocessingScript>
  <postprocessingScript>// This script executes once after a message has been processed
// Responses returned from here will be stored as &quot;Postprocessor&quot; in the response map
return;</postprocessingScript>
  <deployScript>// This script executes once when the channel is deployed
// You only have access to the globalMap and globalChannelMap here to persist data
return;</deployScript>
  <undeployScript>// This script executes once when the channel is undeployed
// You only have access to the globalMap and globalChannelMap here to persist data
return;</undeployScript>
  <properties version="4.5.2">
    <clearGlobalChannelMap>true</clearGlobalChannelMap>
    <messageStorageMode>DEVELOPMENT</messageStorageMode>
    <encryptData>false</encryptData>
    <encryptAttachments>false</encryptAttachments>
    <encryptCustomMetaData>false</encryptCustomMetaData>
    <removeContentOnCompletion>false</removeContentOnCompletion>
    <removeOnlyFilteredOnCompletion>false</removeOnlyFilteredOnCompletion>
    <removeAttachmentsOnCompletion>false</removeAttachmentsOnCompletion>
    <initialState>STARTED</initialState>
    <storeAttachments>false</storeAttachments>
    <metaDataColumns/>
    <attachmentProperties version="4.5.2">
      <type>None</type>
      <properties/>
    </attachmentProperties>
    <resourceIds class="linked-hash-map">
      <entry>
        <string>Default Resource</string>
        <string>[Default Resource]</string>
      </entry>
    </resourceIds>
  </properties>
  <exportData>
    <metadata>
      <enabled>true</enabled>
      <lastModified>
        <time>1768652150348</time>
        <timezone>America/Santiago</timezone>
      </lastModified>
      <pruningSettings>
        <pruneMetaDataDays>11</pruneMetaDataDays>
        <pruneContentDays>1</pruneContentDays>
        <archiveEnabled>true</archiveEnabled>
        <pruneErroredMessages>false</pruneErroredMessages>
      </pruningSettings>
      <userId>1</userId>
    </metadata>
  </exportData>
</channel>